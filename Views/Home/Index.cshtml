@using QLCHBanDienThoaiMoi.ViewModel
@model HomeIndexViewModel

@{
    ViewData["Title"] = "Index";
}

@section FullWidthCarousel {
    <div id="demo" class="carousel slide" data-bs-ride="carousel" style="margin-top:50px;">
        <div class="carousel-inner text-center">
            @{
                int index = 0;
            }
            @foreach (var sp in Model.SanPham.Take(5))
            {
                <div class="carousel-item @(index == 0 ? "active" : "")">
                    <img src="~/images/@sp.HinhAnh"
                         class="d-block w-100"
                         style="height:250px; width:auto; object-fit:contain; background-color:#070917;"
                         alt="@sp.TenSanPham">
                </div>
                index++;
            }
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#demo" data-bs-slide="prev">
            <span class="carousel-control-prev-icon"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#demo" data-bs-slide="next">
            <span class="carousel-control-next-icon"></span>
        </button>
    </div>
}
<div class="card mt-4">
    <div class="card-header bg-primary text-white">
        <h5 class="mb-0">Danh mục sản phẩm</h5>
    </div>
    <div class="card-body">
        <div class="row row-cols-2 row-cols-md-4 g-3">
            @foreach (var dm in Model.DanhMucSanPham)
            {
                <div class="col">
                    <div class="card h-100 text-center p-2">
                        <a asp-action="Index" asp-route-danhMucId="@dm.Id">
                            <h6>@dm.TenDanhMuc</h6>
                        </a>
                    </div>
                </div>
            }
        </div>
    </div>
</div>
<div class="container mt-4">
    <h3 class="text-primary mb-3">Sản phẩm nổi bật</h3>

    <div id="sanPhamContainer">
        @await Html.PartialAsync("_SanPhamCardPartial", Model.SanPham.Take(10))
    </div>

    @if (Model.SanPham.Count > 10)
    {
        <div class="text-center mt-3">
            <button id="loadMoreBtn" class="btn btn-outline-primary">Xem thêm</button>
        </div>
    }
</div>